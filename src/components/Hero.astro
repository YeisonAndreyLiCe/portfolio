---
import type { IPostFrontmatter } from "content/config";
import { Code } from "astro:components";

type Props = Omit<IPostFrontmatter, "author" | "snippet" | "isDraft" | "title">;

export type { Props };

const { pubDate, readingTime, tags } = Astro.props;

const code = `<publishDate>${new Date(pubDate).toDateString()}</publishDate>
<readingTime>${readingTime}</readingTime>
<tags>${tags}</tags>
`;
---

<div>
  <slot />
  <Code lang={"xml"} code={code} theme="tokyo-night" wrap={true} />
</div>
<hr />

<style>
  hr {
    width: 100%;
    max-width: var(--max-width);
    border: 1px solid var(--contrast);
  }

  div {
    display: flex;
    flex-direction: column-reverse;
    align-items: start;
    width: 100%;
    padding: 20px;
    gap: 20px;
  }

  pre {
    border-radius: unset;
  }

  @media screen and (min-width: 720px) {
    div {
      flex-direction: row;
      align-items: start;
      justify-content: space-between;
    }
  }

  @media screen and (min-width: 1000px) {
    div {
      justify-content: end;
      padding: 20px 0px;
      max-width: var(--max-width);
    }
  }
</style>
